       
ctx = document.getElementById("mainCanvas").getContext("2d");
ctx.clearRect(0,0,innerWidth,innerHeight);

ctx.strokeRect(0.5*innerWidth - 0.5*currentJSON.svgwidth,0.5*innerHeight - 0.5*currentJSON.svgheight,currentJSON.svgwidth,currentJSON.svgheight);

doTheThing(0300);

drawGlyph(currentGlyph);
doTheThing(0300);
side = 25;
x = 150;
y = innerHeight - 100;
spellGlyph(currentGlyph);


    var glyphArray = currentGlyph.split(",");
    cleanGlyph = "";
    for(var index = 0;index < glyphArray.length;index++){
        if(glyphArray[index] != "0207" && glyphArray[index].length > 0){
            cleanGlyph += glyphArray[index] + ",";
        }
    }

document.getElementById("mainImage").style.width = (currentJSON.imgw*unit).toString()  + "px";
document.getElementById("mainImage").style.left = (x0 + currentJSON.imgleft*unit).toString()  + "px";
document.getElementById("mainImage").style.top = (y0 + currentJSON.imgtop*unit).toString()  + "px";
document.getElementById("mainImage").style.transform = "rotate(" + currentJSON.imgangle.toString() +"deg)";

document.getElementById("glyphspellinput").value = cleanGlyph;